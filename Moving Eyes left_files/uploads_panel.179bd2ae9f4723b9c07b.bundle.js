(this.webpackJsonp=this.webpackJsonp||[]).push([[1251],{"0foh":function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"a",(function(){return l}));var n=o("G45o"),a=o("Qykb");function r(e){var t,o;return{number:(null!==(t=null==e?void 0:e.number)&&void 0!==t?t:0)+1,size:null!==(o=null==e?void 0:e.size)&&void 0!==o?o:n.o}}function l(e,t=!1){return t?a.d.search:e?a.d.infinite:null}},"C/RL":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o("q1tI"),a=o("ox7a");class r extends n.Component{componentDidMount(){a.d(),this.props.scrollTop&&a.j(0)}componentWillUnmount(){a.c()}render(){return this.props.children}}r.defaultProps={scrollTop:!0}},"H93/":function(e,t,o){"use strict";var n=o("JPst"),a=o.n(n)()((function(e){return e[1]}));a.push([e.i,".src-editor-components-uploaders--upload_wrapper-module-upload_wrapper_button-SeSHp{width:100%;max-width:250px}.src-editor-components-uploaders--upload_wrapper-module-upload_wrapper_button_container-y0hWR{margin:0 15px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}",""]),a.locals={upload_wrapper_button:"src-editor-components-uploaders--upload_wrapper-module-upload_wrapper_button-SeSHp",upload_wrapper_button_container:"src-editor-components-uploaders--upload_wrapper-module-upload_wrapper_button_container-y0hWR"},t.a=a},HrCZ:function(e,t,o){"use strict";var n=o("q1tI"),a=o("TSYQ"),r=o.n(a),l=o("/MKj"),s=o("Gkqz"),i=o("FL8F"),c=o("jpIK"),d=o("KwuG"),p=o("Zeb4"),u=o("JzJl"),m=o("O6qq"),b=o("oq0o"),h=o("21pJ"),_=o("0foh"),g=o("K4rH"),f=o("YPQE"),v=o("Qykb"),w=o("iSE0");class k extends n.Component{constructor(){super(...arguments),this.handleLoadMore=()=>{const{sectionType:e,collectionId:t,pagination:o,requestMoreCatalogItems:n,searchTerm:a}=this.props,{number:r,size:l}=Object(_.b)(o);n({type:e,collectionId:t,pageNumber:r,pageSize:l,searchTerm:a})},this.renderHeader=()=>{const{sectionType:e,collection:t,onGoBack:o,shouldShowHeader:a=!0}=this.props;if(!a)return null;const r=t?t.name:Object(g.a)()[e];return n.createElement(u.a,{label:r,showBackArrow:!0,onClick:o,shouldTruncateTitle:!0})},this.renderGrid=e=>n.createElement("div",{className:r()(f.a.grid_container,{[f.a.search_result]:"search"===this.props.sectionType})},e),this.renderItem=(e,t,o,a,r,l,s,i,c)=>{const d={image_id:o.id},{onItemUsed:p=w.a}=this.props;return n.createElement(b.a,{key:o.id,item:o,height:a,onSearch:e,onItemUsed:()=>{t(),p()},onContextMenu:c,activeItemId:i,trackLabel:"images_catalog_collection_selection",trackDragLabel:"images_catalog_collection_selection_dragged",trackEventData:d,trackDragEventData:d})},this.renderEmpty=()=>this.props.collectionId?Object(s.b)("stockItems","there_images_this"):null}render(){const{panelType:e,items:t,isInitialized:o,hasMore:a,loadingType:r,sectionType:l}=this.props,s="uploads"===l;return n.createElement(m.a,{panelType:e,items:t,isInitialized:o,hasMore:a,loadingType:r,droppable:s,sectionType:l,showSearch:!1,renderHeader:this.renderHeader,renderGrid:this.renderGrid,renderItem:this.renderItem,renderEmpty:this.props.renderEmpty||this.renderEmpty,onLoadMore:this.handleLoadMore,showFooter:s,stockItemsPanelVariant:v.f.catalog})}}t.a=Object(l.b)((function(e,t){const{sectionType:o,collectionId:n}=t,a={type:o,collectionId:n},r=n&&Object(p.b)(o)?c.getCatalogCollection(e,n,o):void 0,l=n?null==r?void 0:r.isInitialized:c.getCatalogPanelIsInitialized(e),s=c.getCatalogSectionPagination(e,a),i=c.getCatalogSectionHasMore(e,a),u=Object(_.a)(c.getCatalogSectionIsLoading(e,a));return{collection:r,isInitialized:l,items:r?Object(h.a)(null==r?void 0:r.items,Object(d.B)(e)):h.b[o](e),pagination:s,loadingType:u,hasMore:i}}),(function(e){return{requestMoreCatalogItems:t=>e(i.b.catalog.requestItems(t))}}))(k)},K4rH:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o("Gkqz");function a(){return{recent:Object(n.b)("stockItems","recent"),collections:Object(n.b)("stockItems","collections"),sharedCollections:Object(n.b)("stockItems","shared_collections"),uploads:Object(n.b)("stockItems","uploads"),downloads:Object(n.b)("stockItems","downloads")}}},Oh6m:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var n,a=o("q1tI"),r=o.n(a),l=o("/MKj"),s=o("dHzC"),i=o("5tm5"),c=o("JzJl"),d=o("Gkqz"),p=o("3k8n"),u=o("Jt6P"),m=o("v1iL"),b=o("FWLE"),h=o("ws/t"),_=o("wYip"),g=o("KwuG"),f=o("C/RL"),v=o("FL8F"),w=o("ihDX"),k=o("Llmt"),E=o("j55p"),j=o("tATR"),I=o("LboF"),O=o.n(I),y=o("gZ8k"),C={insert:"head",singleton:!1},x=(O()(y.a,C),y.a.locals||{});!function(e){e.catalog="catalog",e.uploads="uploads"}(n||(n={}));class L extends r.a.Component{constructor(){super(...arguments),this.getPanelContent=()=>{const{isUserAuthenticated:e,variant:t,requestOpenUploadsPanel:o,isVideoEnabled:a}=this.props;return{[n.catalog]:{header:null,icon:i.default,label:Object(d.b)("stockItems","catalog"),headline:e?Object(d.b)("stockItems","centralize_organize_and_share"):Object(d.b)("stockItems","discover_catalog_home"),description:e?r.a.createElement(p.a,{ns:"stockItems",i18nKey:"catalog_feature_description",components:{Link:r.a.createElement(u.a,{onClick:o})}}):r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,r.a.createElement("li",null,Object(d.b)("stockItems","gather_your_favorited")),r.a.createElement("li",null,Object(d.b)("stockItems","group_assets_together_in_collections")),r.a.createElement("li",null,Object(d.b)("stockItems","keep_track_what"))),r.a.createElement("div",null,Object(d.b)("stockItems","and_so_much_more"))),footer:e?null:r.a.createElement(_.b,{mode:h.a.signUp},r.a.createElement(b.i,null,Object(d.b)("editorDialogs","create_free_account")))},[n.uploads]:{header:r.a.createElement(E.a,{type:k.b.customStock,allowsMultiple:!0,origin:j.b.addYourOwnPanel,isVideoEnabled:a}),icon:s.default,label:Object(d.b)("stockItems","uploads"),headline:a?Object(d.b)("stockItems","uploads_feature_video_headline"):Object(d.b)("stockItems","uploads_feature_headline"),description:e?null:Object(d.b)("stockItems","uploads_feature_description"),footer:e?null:r.a.createElement(_.b,{mode:h.a.signUp},r.a.createElement(b.i,null,Object(d.b)("editorDialogs","create_free_account")))}}[t]},this.renderContent=({icon:e,header:t,headline:o,description:n,footer:a})=>r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("div",{className:x.header},t),r.a.createElement("div",{className:x.icon},r.a.createElement(e,{width:30,height:30})),o&&r.a.createElement("div",{className:x.headline},o),n&&r.a.createElement("div",{className:x.description},n),a&&r.a.createElement("div",{className:x.footer},a))}componentDidMount(){this.props.isUserAuthenticated||this.props.isMobile||this.props.showRegwallDialog()}render(){const e=this.getPanelContent();return this.props.renderInEmptyPanel?r.a.createElement(f.a,null,r.a.createElement(c.a,{toolId:w.c.catalog,label:e.label}),r.a.createElement("div",{className:x.panel_content},this.renderContent(e))):this.renderContent(e)}}t.b=Object(l.b)((function(e){return{isUserAuthenticated:Object(g.ub)(e),isVideoEnabled:Object(g.pb)(e,"createVideo"),isMobile:Object(g.C)(e)}}),(function(e){return{requestOpenUploadsPanel(){e(v.b.ux.requestOpenTool(w.c.uploads))},showRegwallDialog(){e(v.b.dialogs.showDialog(m.b.catalogRegwall))}}}))(L)},cVrd:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return T}));var n=o("q1tI"),a=o.n(n),r=o("LvDl"),l=o("/MKj"),s=o("Gkqz"),i=o("Qykb"),c=o("jpIK"),d=o("O6qq"),p=o("zVXQ"),u=o("LboF"),m=o.n(u),b=o("oGy5"),h={insert:"head",singleton:!1},_=(m()(b.a,h),b.a.locals||{});function g(){const e=Object(l.d)(c.getSdkUploads),t=Object(l.d)(c.getOverrideUploadHandler)?e:[];return a.a.createElement(d.a,{panelType:i.e.create,items:t.map(e=>Object.assign(Object.assign({},e),{provider:i.b.sdkUpload,thumbnailWidth:e.width,thumbnailHeight:e.height})),isInitialized:!0,hasMore:!1,loadingType:i.d.infinite,droppable:!1,renderHeader:()=>null,renderGrid:e=>a.a.createElement("div",{className:_.grid_container},e),renderItem:(e,t,o,n)=>a.a.createElement(p.a,{key:o.id,item:o,height:n,shouldRenderContextMenu:!0}),renderEmpty:()=>null,stockItemsPanelVariant:i.f.catalog,showFooter:!1,infiniteScrollEnabled:!1})}var f=o("KwuG"),v=o("C/RL"),w=o("FL8F"),k=o("ihDX"),E=o("07Se"),j=o("Llmt"),I=o("JzJl"),O=o("j55p"),y=o("tATR"),C=o("HrCZ"),x=o("Oh6m"),L=o("21pJ"),z=o("h7be"),q={insert:"head",singleton:!1},M=(m()(z.a,q),z.a.locals||{});function T({onItemUsed:e=r.noop}){const t=Object(l.c)(),o=Object(l.d)(f.ub),d=Object(l.d)(c.getIsSdkProviderActive),p=Object(l.d)(c.getCatalogPanelIsInitialized),u=0===Object(l.d)(L.b.uploads).length,m=Object(l.d)(e=>f.pb(e,"createVideo"));return Object(n.useEffect)(()=>{o&&t(w.b.catalog.requestInitializePanel())},[]),o&&!p?a.a.createElement(E.a,null):!d&&(!o||p&&u)?a.a.createElement(x.b,{variant:x.a.uploads,renderInEmptyPanel:!0}):a.a.createElement(v.a,null,a.a.createElement(I.a,{toolId:k.c.catalog,label:Object(s.b)("stockItems","uploads")}),a.a.createElement("div",{className:M.upload_button_wrapper},a.a.createElement(O.a,{type:j.b.customStock,allowsMultiple:!0,origin:y.b.addYourOwnPanel,isVideoEnabled:m})),d?a.a.createElement(g,null):a.a.createElement(C.a,{shouldShowHeader:!1,panelType:i.e.editor,sectionType:"uploads",onGoBack:r.noop,onItemUsed:e}))}},gZ8k:function(e,t,o){"use strict";var n=o("JPst"),a=o.n(n)()((function(e){return e[1]}));a.push([e.i,'.src-editor-components-tool_bar-panels--feature_discover_panel-module-icon-\\+qZEi{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:30px}.src-editor-components-tool_bar-panels--feature_discover_panel-module-header-RVwCt{margin-top:25px}.src-editor-components-tool_bar-panels--feature_discover_panel-module-header-RVwCt div{margin:0}.src-editor-components-tool_bar-panels--feature_discover_panel-module-headline-ce4pm{margin-top:10px;font-family:"Roboto","sans-serif";font-style:normal;font-weight:700;font-size:24px;letter-spacing:.2px;line-height:30px}.src-editor-components-tool_bar-panels--feature_discover_panel-module-description-Hfh3B{font-family:"Roboto","sans-serif";font-style:normal;font-weight:400;font-size:14px;letter-spacing:.2px;line-height:20px;margin:15px 0}.src-editor-components-tool_bar-panels--feature_discover_panel-module-description-Hfh3B ul{padding-left:20px}.src-editor-components-tool_bar-panels--feature_discover_panel-module-footer-Rb3jf{margin-top:10px}.src-editor-components-tool_bar-panels--feature_discover_panel-module-footer-Rb3jf button{width:100%}.src-editor-components-tool_bar-panels--feature_discover_panel-module-panel_content-\\+K9Ya{margin:0 20px}',""]),a.locals={icon:"src-editor-components-tool_bar-panels--feature_discover_panel-module-icon-+qZEi",header:"src-editor-components-tool_bar-panels--feature_discover_panel-module-header-RVwCt",headline:"src-editor-components-tool_bar-panels--feature_discover_panel-module-headline-ce4pm",description:"src-editor-components-tool_bar-panels--feature_discover_panel-module-description-Hfh3B",footer:"src-editor-components-tool_bar-panels--feature_discover_panel-module-footer-Rb3jf",panel_content:"src-editor-components-tool_bar-panels--feature_discover_panel-module-panel_content-+K9Ya"},t.a=a},h7be:function(e,t,o){"use strict";var n=o("JPst"),a=o.n(n)()((function(e){return e[1]}));a.push([e.i,".src-editor-components-tool_bar-panels-uploads--uploads_panel-module-upload_button_wrapper-7zF7s{margin-top:25px}.src-editor-components-tool_bar-panels-uploads--uploads_panel-module-discovery_panel-JmP\\+3{margin:25px 20px 0}",""]),a.locals={upload_button_wrapper:"src-editor-components-tool_bar-panels-uploads--uploads_panel-module-upload_button_wrapper-7zF7s",discovery_panel:"src-editor-components-tool_bar-panels-uploads--uploads_panel-module-discovery_panel-JmP+3"},t.a=a},j55p:function(e,t,o){"use strict";o.d(t,"a",(function(){return E}));var n=o("q1tI"),a=o.n(n),r=o("Gkqz"),l=o("Wtah"),s=o("FWLE"),i=o("tATR"),c=o("Llmt"),d=o("piQA"),p=o("dHzC"),u=o("LboF"),m=o.n(u),b=o("H93/"),h={insert:"head",singleton:!1},_=(m()(b.a,h),b.a.locals||{}),g=o("NZ9u"),f=o("kUL8"),v=o("0N8n"),w=o("hz/Z"),k=o("/MKj");const E=Object(f.c)(e=>{const{onRequestClose:t,onDidUpload:o,pageSection:u}=e,m=Object(k.c)(),b=Object(n.useCallback)(e=>{let n,a;null==t||t(!0),null==o||o(),e&&!e.hasFailed?(a="upload_success",n=v.a.uploadSuccess):(a="upload_error",n=v.a.uploadError),g.a.trackChange(u,a),m(Object(w.sdkTrackEvent)({eventName:n}))},[t,o,u,m]),h=c.c.includes(e.type)||!e.isVideoEnabled?l.a:void 0;return a.a.createElement(d.a,{trackLabel:"images_upload_button",sdkTrackLabel:v.a.uploadClicked,destination:i.a.customStock,inputId:"input-overlay",onDidUpload:b,onBeginUpload:e.onBeginUpload,onShowErrorDialog:t,allowsMultiple:e.allowsMultiple,origin:e.origin,accept:h},a.a.createElement("div",{className:_.upload_wrapper_button_container},a.a.createElement(s.h,{name:"button-add-your-own",className:_.upload_wrapper_button},a.a.createElement(s.k,{startIcon:a.a.createElement(p.default,null),label:Object(r.b)("editor","upload")}))))})},oGy5:function(e,t,o){"use strict";var n=o("JPst"),a=o.n(n)()((function(e){return e[1]}));a.push([e.i,".src-editor-components-tool_bar-panels-uploads--sdk_uploads-module-grid_container-bF-hx{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:20px 0 0;overflow:hidden}",""]),a.locals={grid_container:"src-editor-components-tool_bar-panels-uploads--sdk_uploads-module-grid_container-bF-hx"},t.a=a},oq0o:function(e,t,o){"use strict";var n=o("q1tI"),a=o("zVXQ"),r=o("kUL8");class l extends n.Component{render(){return n.createElement(a.a,Object.assign({},this.props,{showOverlayCaption:!0}))}}t.a=Object(r.c)(l)},wYip:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"c",(function(){return p})),o.d(t,"d",(function(){return u}));var n,a=o("ws/t"),r=o("v1iL"),l=o("q1tI"),s=o("/MKj"),i=o("6Vjn"),c=o("BaYo"),d=o("G45o");!function(e){e.Popup="popup",e.Tab="tab"}(n||(n={}));const p=(e,t)=>{switch(e){case a.a.paywallConversion:return Object(d.k)(t);case a.a.downloadConversion:if(t)return Object(d.g)(t);break;case a.a.signUp:return Object(d.m)()}return Object(d.i)()};function u(e){const{hostname:t}=new URL(e);return t.endsWith(c.y)}const m=(e,t,o)=>{const a=p(e,o);return t===n.Popup?window.open(a,"auth-popup",(()=>`top=${(window.innerHeight-720)/2},left=${(window.innerWidth-914)/2},popup=1,width=914,height=720`)()):window.open(a,"_blank")};class b extends l.Component{constructor(){super(...arguments),this.handleMessageCallback=e=>{var t,o,n;u(e.origin)&&e.source===this.popupReference&&((null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.identity)||(null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.isEligible))&&(this.props.mode===a.a.signIn?this.props.onLoginSuccess():this.props.onRegisterSuccess(),null===(n=this.popupReference)||void 0===n||n.close(),window.removeEventListener("message",this.handleMessageCallback))},this.handleClick=e=>{const{onClick:t,showAuthDialog:o,mode:n,variant:r,imageIds:l}=this.props;e.preventDefault(),null==t||t(),n===a.a.signUp?o():(this.popupReference=m(n,r,l),window.addEventListener("message",this.handleMessageCallback))}}componentWillUnmount(){window.removeEventListener("message",this.handleMessageCallback)}render(){return l.cloneElement(this.props.children,{onClick:this.handleClick})}}b.defaultProps={variant:n.Popup},t.b=Object(s.b)(null,(function(e){return{onLoginSuccess:()=>e(i.b.user.requestLogin()),onRegisterSuccess:()=>e(i.b.user.requestRegister()),showAuthDialog:()=>e(i.b.dialogs.showDialog(r.b.authDialog,{authMode:a.a.signUp}))}}))(b)}}]);
//# sourceMappingURL=uploads_panel.179bd2ae9f4723b9c07b.bundle.js.map